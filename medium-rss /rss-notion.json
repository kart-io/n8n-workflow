{
  "name": "Medium RSS â†’ Clean Text â†’ Dedup â†’ Notion (Dynamic)",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours"
            }
          ]
        }
      },
      "id": "e0dda7e7-61fb-4f38-9636-8f7faf7ca1d7",
      "name": "æ¯å°æ—¶è§¦å‘",
      "position": [
        2224,
        -640
      ],
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "clean_link_assignment",
              "name": "clean_link",
              "type": "string",
              "value": "={{ $json.link.split('?')[0] }}"
            },
            {
              "id": "source_category",
              "name": "source_category",
              "type": "string",
              "value": "={{ $json.rss_source_category }}"
            },
            {
              "id": "source_name",
              "name": "source_name",
              "type": "string",
              "value": "={{ $json.rss_source_name }}"
            },
            {
              "id": "article_date",
              "name": "article_date",
              "type": "string",
              "value": "={{ $json.isoDate }}"
            },
            {
              "id": "execution_time",
              "name": "execution_time",
              "type": "string",
              "value": "={{ $now.toISO() }}"
            },
            {
              "id": "title_passthrough",
              "name": "title",
              "type": "string",
              "value": "={{ $json.title }}"
            }
          ]
        },
        "options": {}
      },
      "id": "8e563b36-5419-4906-8b85-fb916bef0453",
      "name": "1. æ¸…æ´—é“¾æ¥",
      "position": [
        2832,
        -880
      ],
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "notes": "å»æ‰ ?source=... åç¼€"
    },
    {
      "parameters": {
        "value": "={{ $json.title }}{{ $json.clean_link }}",
        "dataPropertyName": "md5_hash"
      },
      "id": "bb8aa2b4-7bd0-425d-bdbf-02bb06ff7edd",
      "name": "2. ç”Ÿæˆ MD5 (æ ‡é¢˜+é“¾æ¥)",
      "position": [
        3056,
        -880
      ],
      "type": "n8n-nodes-base.crypto",
      "typeVersion": 1,
      "notes": "ç”Ÿæˆå”¯ä¸€èº«ä»½è¯"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "cachedResultName": "Medium RSS",
          "cachedResultUrl": "https://www.notion.so/2e361b70b6738071bf93e0eb064d1de2",
          "mode": "list",
          "value": "2e361b70-b673-8071-bf93-e0eb064d1de2"
        },
        "returnAll": true,
        "filterType": "manual",
        "filters": {
          "conditions": [
            {
              "key": "md5_hash|rich_text",
              "condition": "is_not_empty",
              "returnType": "date"
            }
          ]
        },
        "options": {}
      },
      "executeOnce": true,
      "id": "aac6582c-b34a-43e8-8cf0-1575a558bfb7",
      "name": "3. è·å– Notion (ä»… Hash)",
      "position": [
        3264,
        -704
      ],
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "credentials": {
        "notionApi": {
          "id": "rC6eBXLUjy32wcWH",
          "name": "Notion account"
        }
      },
      "continueOnFail": true,
      "notes": "âš¡ æ€§èƒ½ä¼˜åŒ–ï¼šåªè·å–æœ€è¿‘30å¤©çš„ Hash å­—æ®µ"
    },
    {
      "parameters": {
        "mode": "combine",
        "advanced": true,
        "mergeByFields": {
          "values": [
            {
              "field1": "md5_hash",
              "field2": "property_md5_hash"
            }
          ]
        },
        "joinMode": "keepNonMatches",
        "outputDataFrom": "input1",
        "options": {}
      },
      "id": "57589287-a4b3-4f2d-8e11-7185a879e4db",
      "name": "4. æ¯”å¯¹å»é‡",
      "position": [
        3488,
        -880
      ],
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "notes": "åªä¿ç•™æ–°æ–‡ç« ï¼ˆNotionä¸­ä¸å­˜åœ¨çš„ï¼‰"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "databaseId": {
          "__rl": true,
          "cachedResultName": "Medium RSS",
          "cachedResultUrl": "https://www.notion.so/2e361b70b6738071bf93e0eb064d1de2",
          "mode": "list",
          "value": "2e361b70-b673-8071-bf93-e0eb064d1de2"
        },
        "title": "={{ $json.title }}",
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "Link|url",
              "type": "url",
              "urlValue": "={{ $json.clean_link }}"
            },
            {
              "key": "md5_hash|rich_text",
              "type": "rich_text",
              "textContent": "={{ $json.md5_hash }}"
            },
            {
              "key": "article_date|date",
              "type": "date",
              "date": "={{ $json.article_date }}"
            },
            {
              "key": "source_name|rich_text",
              "type": "rich_text",
              "textContent": "={{ $json.source_name }}"
            },
            {
              "key": "source_category|rich_text",
              "type": "rich_text",
              "textContent": "={{ $json.source_category }}"
            },
            {
              "key": "execution_time|date",
              "type": "rich_text",
              "textContent": "={{ $json.execution_time }}"
            }
          ]
        },
        "options": {}
      },
      "id": "d7cd40f9-da01-4b45-9ec9-9fc66d5b06ae",
      "name": "5. å†™å…¥ Notion",
      "position": [
        3712,
        -880
      ],
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "credentials": {
        "notionApi": {
          "id": "rC6eBXLUjy32wcWH",
          "name": "Notion account"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "url": "={{ $json.url }}",
        "options": {}
      },
      "id": "9092209f-f0f8-4aa3-bb4a-a0c3f946da5a",
      "name": "RSS Read",
      "position": [
        2656,
        -672
      ],
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "continueOnFail": true,
      "notes": "åŠ¨æ€è¯»å– RSS æº\næ³¨æ„ï¼šRSS æºè¿”å›çš„æ–‡ç« æ•°é‡ç”±æºæœ¬èº«å†³å®šï¼Œé€šå¸¸æ˜¯æœ€è¿‘ 10-20 æ¡ã€‚\nå¦‚æœéœ€è¦æ›´å¤šå†å²æ–‡ç« ï¼Œéœ€è¦å®šæœŸæ‰§è¡Œå·¥ä½œæµã€‚"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "cachedResultName": "medium-rss-list",
          "cachedResultUrl": "https://www.notion.so/2e461b70b67380f29556f54faf483261",
          "mode": "list",
          "value": "2e461b70-b673-80f2-9556-f54faf483261"
        },
        "returnAll": true,
        "filterType": "manual",
        "filters": {
          "conditions": [
            {
              "key": "Enabled|checkbox",
              "condition": "equals",
              "checkboxValue": true
            }
          ]
        },
        "options": {}
      },
      "id": "rss-config-notion-node",
      "name": "0. ä» Notion è¯»å– RSS æºé…ç½®",
      "position": [
        1920,
        -896
      ],
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "credentials": {
        "notionApi": {
          "id": "rC6eBXLUjy32wcWH",
          "name": "Notion account"
        }
      },
      "notes": "ğŸ“‹ ä» Notion æ•°æ®åº“è¯»å– RSS æºåˆ—è¡¨\n\nâš ï¸ é…ç½®è¯´æ˜ï¼š\n1. åœ¨ Notion ä¸­åˆ›å»ºæ–°æ•°æ®åº“ï¼ŒåŒ…å«å­—æ®µï¼š\n   - Name (Title) - RSS æºåç§°\n   - URL (URL) - RSS feed åœ°å€\n   - Category (Text) - åˆ†ç±»æ ‡ç­¾\n   - Enabled (Checkbox) - æ˜¯å¦å¯ç”¨\n\n2. åœ¨æ­¤èŠ‚ç‚¹çš„ 'Database' å‚æ•°ä¸­é€‰æ‹©è¯¥æ•°æ®åº“\n   æˆ–å°† YOUR_RSS_CONFIG_DATABASE_ID_HERE æ›¿æ¢ä¸ºå®é™…çš„æ•°æ®åº“ ID"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "rss_name",
              "name": "name",
              "type": "string",
              "value": "={{ $json.property_name }}"
            },
            {
              "id": "rss_url",
              "name": "url",
              "type": "string",
              "value": "={{ $json.property_url.trim() }}"
            },
            {
              "id": "rss_category",
              "name": "category",
              "type": "string",
              "value": "={{ $json.property_category }}"
            }
          ]
        },
        "options": {}
      },
      "id": "format-rss-data-node",
      "name": "0.2 æ ¼å¼åŒ– RSS æºæ•°æ®",
      "position": [
        2336,
        -1072
      ],
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "notes": "å°† Notion æ•°æ®æ ¼å¼è½¬æ¢ä¸ºå·¥ä½œæµæ‰€éœ€çš„æ ¼å¼ï¼š\n- name: RSS æºåç§°\n- url: RSS feed URL\n- category: åˆ†ç±»æ ‡ç­¾"
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "loop-node-001",
      "name": "0.1 éå† RSS æº",
      "position": [
        2608,
        -880
      ],
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "notes": "é€ä¸ªå¤„ç†æ¯ä¸ª RSS æº"
    },
    {
      "parameters": {},
      "id": "loop-continue-tracker",
      "name": "å¾ªç¯è¿½è¸ª (æ€»æ˜¯æ‰§è¡Œ)",
      "position": [
        3056,
        -704
      ],
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "notes": "ç¡®ä¿å¾ªç¯ç»§ç»­ï¼Œå³ä½¿æ²¡æœ‰æ–°æ–‡ç« éœ€è¦å†™å…¥ï¼ˆä¸ä¿®æ”¹æ•°æ®ï¼‰"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "attach_rss_source_name",
              "name": "rss_source_name",
              "type": "string",
              "value": "={{ $('0.1 éå† RSS æº').item.json.name }}"
            },
            {
              "id": "attach_rss_source_category",
              "name": "rss_source_category",
              "type": "string",
              "value": "={{ $('0.1 éå† RSS æº').item.json.category }}"
            },
            {
              "id": "attach_rss_source_url",
              "name": "rss_source_url",
              "type": "string",
              "value": "={{ $('0.1 éå† RSS æº').item.json.url }}"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "id": "attach-rss-source-info",
      "name": "0.3 é™„åŠ  RSS æºä¿¡æ¯",
      "position": [
        2832,
        -672
      ],
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "notes": "å°† RSS æºçš„ nameã€categoryã€url é™„åŠ åˆ°æ¯ç¯‡æ–‡ç« ï¼Œ\nä½¿ç”¨ Set èŠ‚ç‚¹ + includeOtherFields ä¿ç•™åŸå§‹æ–‡ç« æ•°æ®"
    }
  ],
  "pinData": {},
  "connections": {
    "0. ä» Notion è¯»å– RSS æºé…ç½®": {
      "main": [
        [
          {
            "index": 0,
            "node": "0.2 æ ¼å¼åŒ– RSS æºæ•°æ®",
            "type": "main"
          }
        ]
      ]
    },
    "0.1 éå† RSS æº": {
      "main": [
        [],
        [
          {
            "index": 0,
            "node": "RSS Read",
            "type": "main"
          }
        ]
      ]
    },
    "0.2 æ ¼å¼åŒ– RSS æºæ•°æ®": {
      "main": [
        [
          {
            "index": 0,
            "node": "0.1 éå† RSS æº",
            "type": "main"
          }
        ]
      ]
    },
    "0.3 é™„åŠ  RSS æºä¿¡æ¯": {
      "main": [
        [
          {
            "index": 0,
            "node": "å¾ªç¯è¿½è¸ª (æ€»æ˜¯æ‰§è¡Œ)",
            "type": "main"
          }
        ]
      ]
    },
    "1. æ¸…æ´—é“¾æ¥": {
      "main": [
        [
          {
            "index": 0,
            "node": "2. ç”Ÿæˆ MD5 (æ ‡é¢˜+é“¾æ¥)",
            "type": "main"
          }
        ]
      ]
    },
    "2. ç”Ÿæˆ MD5 (æ ‡é¢˜+é“¾æ¥)": {
      "main": [
        [
          {
            "index": 0,
            "node": "4. æ¯”å¯¹å»é‡",
            "type": "main"
          },
          {
            "index": 0,
            "node": "3. è·å– Notion (ä»… Hash)",
            "type": "main"
          }
        ]
      ]
    },
    "3. è·å– Notion (ä»… Hash)": {
      "main": [
        [
          {
            "index": 1,
            "node": "4. æ¯”å¯¹å»é‡",
            "type": "main"
          }
        ]
      ]
    },
    "4. æ¯”å¯¹å»é‡": {
      "main": [
        [
          {
            "index": 0,
            "node": "5. å†™å…¥ Notion",
            "type": "main"
          }
        ]
      ]
    },
    "RSS Read": {
      "main": [
        [
          {
            "index": 0,
            "node": "0.3 é™„åŠ  RSS æºä¿¡æ¯",
            "type": "main"
          }
        ]
      ]
    },
    "å¾ªç¯è¿½è¸ª (æ€»æ˜¯æ‰§è¡Œ)": {
      "main": [
        [
          {
            "index": 0,
            "node": "1. æ¸…æ´—é“¾æ¥",
            "type": "main"
          },
          {
            "index": 0,
            "node": "0.1 éå† RSS æº",
            "type": "main"
          }
        ]
      ]
    },
    "æ¯å°æ—¶è§¦å‘": {
      "main": [
        [
          {
            "index": 0,
            "node": "0. ä» Notion è¯»å– RSS æºé…ç½®",
            "type": "main"
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all",
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": false
  },
  "versionId": "899b98b0-2b86-4abb-96fd-81481529cbc3",
  "meta": {
    "instanceId": "9b9e0f7429dd3efb9c711488dfce0efa1b15fbee313d3c407871cbb7df29476a"
  },
  "id": "ks9nFeIglqSxsMiO",
  "tags": []
}